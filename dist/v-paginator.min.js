/**
 * v-paginator v1.0.3
 * (c) 2021 Sitronik
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VPaginator=t()}(this,function(){"use strict";const e=function(e,t,a,s,i,n,r,o,p,l){"boolean"!=typeof r&&(p=o,o=r,r=!1);const c="function"==typeof a?a.options:a;let u;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),s&&(c._scopeId=s),n?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,p(e)),e&&e._registeredComponents&&e._registeredComponents.add(n)},c._ssrRegister=u):t&&(u=r?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),u)if(c.functional){const e=c.render;c.render=function(t,a){return u.call(a),e(t,a)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,u):[u]}return a}({},void 0,{name:"Paginator",props:{perPage:Number,total:Number,layout:String,activeClass:String,disabledClass:String,limitButtons:{type:Number,default:4},query:Boolean},watch:{perPage:{handler(){this.$emit("changePage",1)}}},methods:{injectLayout(){let e=this.layout.replace(/\n/g," ");const t=/">$/,a=[{match:"main",replaceValue:'" v-if="totalPages">'},{match:"prev",replaceValue:`" href="#" ${e.includes("vue-paginator-prev-disabled")?"":'v-if="page !== 1"'}  title="Prev page" @click.prevent.stop="paginate(page - 1)">`},{match:"next",replaceValue:`" href="#" ${e.includes("vue-paginator-next-disabled")?"":'v-if="totalPages !== page"'} title="Next page" @click.prevent.stop="paginate(page + 1)">`},{match:"item",replaceValue:'" v-for="n in pages" :key="n">'},{match:"active",replaceValue:`" :class="n === page ? '${this.activeClass?this.activeClass:"active"}' : ''">`},{match:"number",replaceValue:'" :title="\'Go to page \' + n" :href="\'?page=\' + n" @click.prevent.stop="paginate(n)">{{ n }}</a>',searchReplace2:'<.*class="vue-paginator-number.*?><\\/a>'}];e.includes("vue-paginator-prev-disabled")&&a.push({match:"prev-disabled",replaceValue:`" :class="page === 1 ? 'disabled' : '' ? '${this.disabledClass?this.disabledClass:"disabled"}' : ''">`}),e.includes("vue-paginator-next-disabled")&&a.push({match:"next-disabled",replaceValue:`" :class="page === totalPages ? 'disabled' : '' ? '${this.disabledClass?this.disabledClass:"disabled"}' : ''">`});for(const s of a){const a=e.match(new RegExp(`<.*vue-paginator-${s.match}.*?>`));if(!a)return{status:!1,message:`class vue-paginator-${s.match} not found`};let i=a[0].replace(t,s.replaceValue);if(!i.includes(s.replaceValue)){i=i.replace(new RegExp(`(vue-paginator-${s.match}.*")\\s.*?>`),"$1>").replace(t,s.replaceValue)}e=e.replace(new RegExp(s.searchReplace2?s.searchReplace2:`<.*vue-paginator-${s.match}.*?>`),i)}return e}},render(e){if(!this.layout)return e("div",{},"layout attribute not found");const t=this,a=this.injectLayout();if("string"!=typeof a&&!a.status)return e("div",{},a.message);const s={total:this.total,perPage:this.perPage,query:this.query};return e({template:a,computed:{startPage(){return this.$route&&parseInt(this.$route.query.page,10)||1}},watch:{$route(e){this.query&&+e.query.page!==this.page&&!e.params.paginator&&(this.page=+e.query.page,this.$parent.$emit("changePage",+e.query.page))}},data:()=>({page:1,pages:[],limitButtons:t.limitButtons||4,totalPages:t.totalPages,total:s.total,perPage:s.perPage,query:s.query}),created(){this.page=this.startPage,this.createPages(this.page)},methods:{createPages(e=1){this.pages.length&&(this.pages=[]);const t=this.total/this.perPage;this.totalPages=Math.ceil(t);let a=1;this.limitButtons<e&&(a=e);for(let e=0;e<this.limitButtons;e++)if(0!==e&&(a+=1),a>this.totalPages){const e=this.pages[0];e>1&&this.pages.splice(0,0,e-1)}else this.pages.push(a)},paginate(e){this.page!==e&&((this.pages[0]===this.page&&e<this.page||this.pages[this.pages.length-1]===this.page&&e>this.page)&&this.createPages(e),this.page=e,this.$parent.$emit("changePage",this.page),t.query&&this.$router&&this.$router.push({query:{...this.$route.query,page:e},params:{paginator:!0}}))}}})}},void 0,void 0,void 0,!1,void 0,void 0,void 0),t=function(a,s){t.installed||a.prototype.$isServer||(t.installed=!0,a.component("v-paginator",e))};return e.install=t,e});